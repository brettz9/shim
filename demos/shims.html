<!DOCTYPE html>
<html><head><meta charset="utf-8" />
<title>RequireJS shim plugin test</title>
<script src="require.js"></script>
<script src="require-config.js"></script><!-- The needed shim configuration code is minimal, so we could also include it below -->

<script>
/*globals require*/

require(['domReady!'], function () {
    'use strict';

    // We assume we can avoid addiitonal load of Array methods if map is already available
    require(['writeBr', 'shim!Array.prototype!map'], function (writeBr, alreadyExisted) { // No real need to use or specify the alreadyExisted argument
        writeBr(alreadyExisted); // gives false in IE < 9, true in Firefox, etc.
        writeBr([3, 4, 5, 6].map(function (i) {return i > 4;})); // [false, false, true, true]

        require(['writeBr', 'shim!Array@shimHelpers/ArrayGenerics!'], function (writeBr, alreadyExisted) { // No real need to use or specify the alreadyExisted argument
            writeBr(alreadyExisted); // gives false in IE < 9, true in Firefox, etc.
            writeBr(Array.slice([3, 4, 5, 6], 2)); // [5, 6]
        });
    });

});
</script>
</head>
<body></body>
</html>